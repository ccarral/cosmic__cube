<!doctype html><html><head><title>
        The Schedule Creator
    </title><link href=https://ccarral.github.io/favicon.ico rel=icon type=image/png><link href=https://ccarral.github.io/main.css media=screen rel=stylesheet><script src=https://code.jquery.com/jquery-3.5.0.js></script><script async data-goatcounter=https://cosmiccube.goatcounter.com/count src=//gc.zgo.at/count.js></script><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta name=description><meta content=https://ccarral.github.io/projects/creador-horarios/ui_v3.png name=image><meta content="The Schedule Creator" name=twitter:title><meta name=twitter:description><meta content=summary_large_image name=twitter:card><meta content=https://ccarral.github.io/projects/creador-horarios/ui_v3.png name=twitter:image><meta content=https://ccarral.github.io name=twitter:url><meta content=@0xC4C4 name=twitter:site><meta content=article property=og:type><meta content="The Schedule Creator" property=og:title><meta property=og:description><meta content=https://ccarral.github.io/projects/creador-horarios/ui_v3.png property=og:image><meta content=https://ccarral.github.io property=og:url><meta content="The Schedule Creator" property=og:site_name><meta itemprop=name><meta itemprop=description><meta content=https://ccarral.github.io/projects/creador-horarios/ui_v3.png itemprop=image><body class=background><div class=content><div class=center-column style=text-align:center><div class=center-column id=nav-container><a class=nav-element href=https://ccarral.github.io/en/>home</a> | <a class=nav-element href=https://ccarral.github.io/en/projects/>projects</a> | <a class=nav-accent href=https://ccarral.github.io/>es </a></div></div><article class="center-column content" id=post><h1 class=main-title>The Schedule Creator</h1><p id=date>2022-07-04<p>This is kind of a long story (but not really). It all started out as a real problem that required a solution, as most software projects do.<h2 id=the-problem>The problem</h2><p>My university uses a somewhat antiquated method for managing the way alumni sign up for classes. Before the semester begins, a list of all available classes is posted as a PDF somewhere. This PDF has mostly the same format each semester:<p><img alt="the format" src=https://ccarral.github.io/en/projects/creador-horarios/captura_plantilla_1.png><p>It includes all the relevant information for all available classes: professor, subject ID, begin and end times for each day. Nothing fancy really. The problem with this approach is one of scale: most of the time, there is more than one choice for any given subject, therefore the task of selecting the appropiate combination of classes to sign up for that meet a certain student-unique criteria is not a trivial one. Doing this by hand is an ardous, time consuming task, that sometimes yields less-than-ideal results.<br> If that wasn't enough, there's also the problem of classes filling up. If you had already settled on a schedule and suddenly one of the classes of your choice fills up, the process of trial and error must start all over again. But so is the status quo, and there is nothing we can do about it. Or is there...?<h2 id=the-first-try>The first try</h2><p>Meet the first <a href=https://github.com/ccarral/horarios-uaemex>schedule creator</a>: a crude python script that takes a <code>config.json</code> and a <code>.csv</code>-transformed version of the PDF file and yields valid combinations of the subjects of your choice, with the option of specifying particular classes (say, you <strong>must</strong> take Calculus 101 with a certain teacher).<p>It wasn't particularly user friendly nor scalable. It has many flaws that any developer worth its salt will immediately detect. Nevertheless, <strong>it worked</strong>, and I made it in a week. I was so excited, as it was the first time something I built had any real-world use cases. I posted it on my university social media page and called it a day.<p><img alt="Output of the first iteration" src=https://ccarral.github.io/en/projects/creador-horarios/output_1.png><p>To this day, I still don't know if anyone but me ever used it. Once my pride had cooled off and I was able to view it more objectively, I realized it was a nightmare of a product. Its documentation is <strong>obscure</strong> to say the least. It's only usable if you know what you are doing, and only by people with a very specific set of skills.<p>No, I could do better. But I also had to <strong>get</strong> better, and learn a few things first.<h2 id=enter-rust-wasm>Enter Rust + WASM</h2><p>From the get-go, the browser was my platform of choice. Its ubiquity, uniformity and inherent accessibility made it a prime candidate for such a task. However, <strong>how</strong> am I going to build this thing?<p>Even after two years, I don't regret my choice. I had no access to a back end in a server somewhere (because students don't usually have the budget for such things) and my only choice was to make it a browser-embedded static application. I had no intention to mingle with Typescript at the moment and what's more: the underlying algorithm is brute-forceish and I could use all the performance advantages I could muster. Rust is a <strong>powerful</strong> tool, for those who know how to use it, and its <a href=https://rustwasm.github.io/>WASM</a> compilation target made it an ideal candidate for the task. At this point in time, this wasn't my first rodeo and while it wasn't trivial, the back end wasn't the most difficult part of the equation. The front end, however did present itself as a challenge, as I had almost zero knowledge of web development in general. In the end, Vue was my weapon of choice, and I'm quite satisfied by it.<p><img alt="Output of the second iteration" src=https://ccarral.github.io/en/projects/creador-horarios/output_2.jpg><p>This was a little bit more usable, as it was completely web enabled. It did have some drawbacks regarding UX/UI, but its abstraction layers where nicely divided and the underlying algorithm was refined and thoroughly tested.<p>It did however lack in its mantainability, as the data it depended on to function varied each semester and had to be updated accordingly (by me, obviously). Again, not ideal.<h2 id=third-time-s-the-charm>Third time's the charm?</h2><p>I had the opportunity to improve on the site for a school project, and who knows? Maybe it could mean the start of something more focused. After all, the problem it solves is not unique to my school. It did beg the question I think all underfunded, understaffed open source projects encounter, which is "<em>How much of my time and energy am I willing to invest in this project, long term?</em>". Anyone can accomplish a sprint of anything. But how do I make this tool useful in the long term? Without any access to my school's private data that is (the bureaucracy is a nightmare), besides the fact that building a whole auth + database powered web application is <strong>way</strong> beyond this project's scope.<p>Enter the trustworthy <code>.csv</code> file format. It's not the prettiest solution, but if I leave the <em>specification</em> for a file format recognizable by the program, I can assure that even if I don't add any new features to the program in a long while, it will still be usable as long as this format is respected. It <em>does</em> place a burden on the user's end, for providing a valid, usable file. But this is exactly the type of task that is done <strong>once</strong> and the file is then distributed through the official channels, making it available for the whole community.<br> Hell, any other <em>organization</em> can make use of this program, as long as the <a href=https://github.com/ccarral/potro-horario-universitario/tree/main#especificaci%C3%B3n-de-los-archivos-csv-admitidos>specification</a> is respected.<p>As for the third iteration itself, I was lucky enough to meet a talented UX/UI developer who pushed me through the loops of modern UI development (hello there, <a href=https://github.com/Jackelino>@Jackelino</a>) and managed to release a modern, intuitive, feature-packed application. Enter v3 of the schedule creator:<p><img alt="UI of the third iteration" src=https://ccarral.github.io/en/projects/creador-horarios/ui_v3.png><p>Maybe feature-packed is an overstatement, but it <strong>does</strong> have an option for exporting the generated schedule into a PDF file, which is nice. It isn't perfect, but software never really is.<p>This final version incorporates everything I learned over the previous iterations:<ul><li><p><strong>It keeps the concerns separate:</strong> the main engine is imported as an <a href=https://www.npmjs.com/package/uaemex-horarios>npm package</a>, with an stable API.</p><li><p><strong>It doesn't fail silently:</strong> Making the correctness of the input an end-user concern introduces the problem of providing effective feedback on the whole process.</p><li><p><strong>It tries to be user friendly:</strong> It is explicitly <strong>not</strong> a tool by engineers, for engineers. It tries to take into account usability and the end user's tech literacy.</p></ul><h2 id=what-does-the-future-hold>What does the future hold?</h2><p>I wouldn't say I'm completely satisfied, as I hope to make my effort worth the while and make this tool less obscure and available to more people (the problem it solves and its input parameters are somewhat hard to parse if you aren't intimately involved with the problem as I was for so long). It would also be nice to be able to introduce allotted, untouchable, free time slots that the algorithm respects, besides a million tiny things that would make the user experience so much better. Time will tell.<p>If you want to check it out, the final version is available <a href=https://sigeho-test-040522.netlify.app>here</a> and the project repository resides on <a href=https://github.com/ccarral/potro-horario-universitario>github</a>. A valid input file can be found <a href=https://ccarral.github.io/files/2022/A/plantilla_ico_2022A.csv>here</a>.<p>The source code for the combinatorial, WASM-targeted rust engine library resides <a href=https://github.com/ccarral/schedule-engine>here</a>.<div class=center-column style=text-align:center><a class=center-column href=https://ccarral.github.io/en/projects/>[back]</a></div></article><script>$("img").wrap("<div id='post-img-container'></div>")</script></div>